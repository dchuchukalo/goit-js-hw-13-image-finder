{"version":3,"sources":["webpack:///./templates/search-form.hbs","webpack:///./js/refs.js","webpack:///./components/search-form/search-form.js","webpack:///./index.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","searchFormJsRef","document","querySelector","galleryRef","markup","searchFormTemplate","refs","innerHTML","searchFormRef","inputRef","infScroll","InfiniteScroll","path","this","pageIndex","responseType","status","history","proxyElem","createElement","on","response","itemsHTML","JSON","parse","map","getItemHTML","join","items","querySelectorAll","appendItems","loadNextPage","itemTemplateSrc","photo","replace","match","key","value","split","forEach","part"],"mappings":"yGAAA,IAAIA,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAYG,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAASC,EAAUC,EAAOC,EAAQC,EAASC,GACzI,MAAO,2MACT,SAAU,K,6HCJG,GACbC,gBAAiBC,SAASC,cAAc,mBACxCC,WAAYF,SAASC,cAAc,a,YCC/BE,E,MAASC,KAEfC,EAAKN,gBAAgBO,UAAYH,EACjCE,EAAKE,cAAgBP,SAASC,cAAc,gBAC5CI,EAAKG,SAAWR,SAASC,cAAc,W,mCCAjCI,EAAO,CACXH,WAAYF,SAASC,cAAc,aAKjCQ,EAAY,IAAIC,IAAeL,EAAKH,WAAY,CAClDS,KAAM,WACJ,MACE,4EACmCC,KAAKC,UADxC,uDAMJC,aAAc,OACdC,OAAQ,iBACRC,SAAS,IAIPC,EAAYjB,SAASkB,cAAc,MAEvCT,EAAUU,GAAG,QAAQ,SAAUC,GAE7B,IAEIC,EAFOC,KAAKC,MAAMH,GAEDI,IAAIC,GAAaC,KAAK,IAE3CT,EAAUX,UAAYe,EAEtB,IAAIM,EAAQV,EAAUW,iBAAiB,eACvCnB,EAAUoB,YAAYF,MAIxBlB,EAAUqB,eAIV,IAAIC,EAAkB/B,SAASC,cAAc,wBAAwBK,UAErE,SAASmB,EAAYO,GACnB,OAI0BlC,EAJYkC,EAAjBD,EAMVE,QAAQ,0BAA0B,SAAUC,EAAOC,GAE5D,IAAIC,EAAQtC,EAIZ,OAHAqC,EAAIE,MAAM,KAAKC,SAAQ,SAAUC,GAC/BH,EAAQA,EAAMG,MAETH,KARX,IAA4BtC,K","file":"main.c7f84664844e167dc17c.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<form class=\\\"search-form\\\" id=\\\"search-form\\\">\\r\\n  <input type=\\\"text\\\" name=\\\"query\\\" autocomplete=\\\"off\\\" placeholder=\\\"Search images...\\\" id=\\\"search\\\" />\\r\\n  <button type=\\\"submit\\\">Search</button>\\r\\n</form>\";\n},\"useData\":true});","export default {\r\n  searchFormJsRef: document.querySelector('.search-form-js'),\r\n  galleryRef: document.querySelector('.gallery'),\r\n};\r\n\r\n","import refs from '../../js/refs';\r\nimport searchFormTemplate from '../../templates/search-form.hbs';\r\n\r\nconst markup = searchFormTemplate();\r\n\r\nrefs.searchFormJsRef.innerHTML = markup;\r\nrefs.searchFormRef = document.querySelector('#search-form');\r\nrefs.inputRef = document.querySelector('#search');\r\n\r\n\r\n","import './sass/main.scss';\r\nimport './components/search-form/search-form';\r\n// import './js/search-query';\r\nimport 'material-design-icons/iconfont/material-icons.css';\r\n\r\nimport InfiniteScroll from 'infinite-scroll';\r\n\r\nconst refs = {\r\n  galleryRef: document.querySelector('.gallery'),\r\n};\r\n\r\nconst apiKey = '16252810-97a93e8d6856e870fd6ba2eb3';\r\n\r\nvar infScroll = new InfiniteScroll(refs.galleryRef, {\r\n  path: function () {\r\n    return (\r\n      `https://pixabay.com/api/?image_type=photo` +\r\n      `&orientation=horizontal&q=&page=${this.pageIndex}` +\r\n      `&per_page=12&key=${apiKey}`\r\n    );\r\n  },\r\n  // load response as flat text\r\n  responseType: 'text',\r\n  status: '.scroll-status',\r\n  history: false,\r\n});\r\n\r\n// use element to turn HTML string into elements\r\nvar proxyElem = document.createElement('li');\r\n\r\ninfScroll.on('load', function (response) {\r\n  // parse response into JSON data\r\n  var data = JSON.parse(response);\r\n  // compile data into HTML\r\n  var itemsHTML = data.map(getItemHTML).join('');\r\n  // convert HTML string into elements\r\n  proxyElem.innerHTML = itemsHTML;\r\n  // append item elements\r\n  var items = proxyElem.querySelectorAll('.photo-item');\r\n  infScroll.appendItems(items);\r\n});\r\n\r\n// load initial page\r\ninfScroll.loadNextPage();\r\n\r\n//------------------//\r\n\r\nvar itemTemplateSrc = document.querySelector('#photo-item-template').innerHTML;\r\n\r\nfunction getItemHTML(photo) {\r\n  return microTemplate(itemTemplateSrc, photo);\r\n}\r\n\r\n// micro templating, sort-of\r\nfunction microTemplate(src, data) {\r\n  // replace {{tags}} in source\r\n  return src.replace(/\\{\\{([\\w\\-_\\.]+)\\}\\}/gi, function (match, key) {\r\n    // walk through objects to get value\r\n    var value = data;\r\n    key.split('.').forEach(function (part) {\r\n      value = value[part];\r\n    });\r\n    return value;\r\n  });\r\n}\r\n"],"sourceRoot":""}